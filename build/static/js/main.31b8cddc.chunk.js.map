{"version":3,"sources":["reactDedux.js","store/constants.js","views/about.js","redux.js","views/home.js","views/error.js","store/reducer.js","store/index.js","layout/App.js","index.js"],"names":["mapStateToProps","mapDispatchToProps","MyContext","React","createContext","Provider","props","state","value","this","store","children","Component","ADD_NUMBER","SUB_NUMBER","INCREMENT","DECREMENT","About","dispatch","type","num","counter","className","uuidv4","onClick","connect","status","WrapperComponent","console","log","context","subscribe","update","getState","stateToProps","dispatchToProps","actionCreators","keys","Object","boundActionCreators","forEach","key","actionCreator","bindActionCreator","Error","bindActionCreators","setState","contextType","Home","defaultState","reducer","createStore","enhancer","currentState","undefined","currentListeners","fun","push","action","map","item","result","APP","path","component","exact","to","from","ReactDOM","render","StrictMode","App","document","getElementById"],"mappings":"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","file":"static/js/main.31b8cddc.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { bindActionCreators } from './redux'\n\nconst MyContext = React.createContext(null);\n/**\n * @Description Provider 传store\n * @Author Aaron\n * @Date 2021/09/11 20:29:21\n * @param { Boolean }\n * @return { Boolean }\n */\nexport class Provider extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {}\n        \n    }\n    render() {\n        return (\n            <MyContext.Provider value={this.props.store}>\n                {this.props.children}\n            </MyContext.Provider>\n        );\n    }\n}\n\n/**\n * @Description connect\n * @Author Aaron\n * @Date 2021/09/11 20:28:53\n * @param { mapStateToProps ,mapDispatchToProps}\n * @return { WrapperComponent }\n */\nexport const connect = (mapStateToProps, mapDispatchToProps) => (WrapperComponent) => {\n    return class extends Component {\n        constructor(props) {\n            super(props);\n            this.state = {\n                props: {}\n            }\n        }\n        static contextType = MyContext;\n        componentDidMount() {\n            console.log(this.context);\n            const { subscribe } = this.context\n            this.update()\n            subscribe(() => {\n                this.update()\n            })\n\n        }\n        update() {\n            const { getState, dispatch } = this.context\n            let stateToProps = mapStateToProps(getState())\n            let dispatchToProps = null;\n\n            switch (typeof mapDispatchToProps) {\n                case 'function':\n                    dispatchToProps = mapDispatchToProps(dispatch);\n                    break;\n                case 'object':\n                    dispatchToProps = bindActionCreators(mapDispatchToProps, dispatch);\n                    break;\n                default:\n                    dispatchToProps = { dispatch }\n                    break;\n            }\n\n            this.setState({\n                props: { ...stateToProps, ...dispatchToProps }\n            })\n        \n        }\n        render() {\n            return (\n                // <MyContext.Consumer>\n                //     {theme => <WrapperComponent {...props} theme={theme} />}\n                // </MyContext.Consumer>\n                <WrapperComponent {...this.state.props} />\n            );\n        }\n    }\n}","export const ADD_NUMBER = \"ADD_NUMBER\";\nexport const SUB_NUMBER = \"SUB_NUMBER\";\nexport const INCREMENT = \"INCREMENT\";\nexport const DECREMENT = \"DECREMENT\";\n","import React, { Component } from 'react';\nimport { connect } from '../reactDedux'\n// impot { connect } from 'react-redux'\n// import { bindActionCreators } from 'redux'\nimport { bindActionCreators } from '../redux'\nimport { incAction, decAction } from '../store/actionCreators'\nimport { v4 as uuidv4 } from 'uuid';\n\n// import store from '../store';\nclass About extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {}\n    }\n    componentDidMount() {\n        // store.subscribe(() => {\n        //     this.forceUpdate()\n        // })\n    }\n    ADD_NUMBER = () => {\n        this.props.dispatch({ type: 'ADD_NUMBER', num: 2 })\n    }\n    SUB_NUMBER = () => {\n        this.props.dispatch({ type: 'SUB_NUMBER', num: 2 })\n    }\n    INCREMENT = () => {\n        this.props.dispatch({ type: 'INCREMENT' })\n        // store.dispatch({ type: 'INCREMENT' });\n        // store.dispatch((dispatch)=>{\n        //     setTimeout(()=>{\n        //     },1000)\n        // })\n    }\n    DECREMENT = () => {\n        this.props.dispatch({ type: 'DECREMENT' })\n        // store.dispatch({ type: 'DECREMENT' })\n    }\n    render() {\n        // console.log(this.props);\n\n        const { counter, INCREMENT, DECREMENT } = this.props\n        return (\n            <div className=\"container mx-auto px-4 select-none\">\n                bumber {counter}\n                <div>{uuidv4()}</div>\n                <br />\n                {/* <button onClick={this.ADD_NUMBER}>ADD_NUMBER</button>\n                <button onClick={this.SUB_NUMBER}>SUB_NUMBER</button> */}\n                <button className=\"group relative  flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\" onClick={INCREMENT}>INCREMENT</button>\n                <button className=\"group relative  flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\" onClick={DECREMENT}>DECREMENT</button>\n            </div>\n        );\n    }\n}\n// const mapStateToProps = (status, ownProps) => {\n//     // console.log(status,ownProps)\n//     return status\n// }\n// 方式一\n// const mapDispatchToProps = (dispatch) => {\n//     return {\n//         INCREMENT:()=>dispatch({type: 'INCREMENT'}),\n//         DECREMENT:()=>dispatch({type: 'DECREMENT'})\n//     }\n// }\n// 方式二\n// const mapDispatchToProps = (dispatch) => {\n//     return bindActionCreators({\n//         INCREMENT:()=>({type: 'INCREMENT'}),\n//         DECREMENT:()=>({type: 'DECREMENT'})\n//     },dispatch)\n// }\n// console.log(mapDispatchToProps);\n\n// 方式三\nconst mapDispatchToProps = {\n    INCREMENT: () => ({ type: 'INCREMENT' }),\n    DECREMENT: () => ({ type: 'DECREMENT' })\n}\n\n// export default connect((status) => status, { INCREMENT: incAction, DECREMENT: decAction })(About);\nexport default connect((status) => status, mapDispatchToProps)(About);","export function createStore(reducer, enhancer) {\n    if (enhancer) {\n        return enhancer(createStore)(reducer)\n    }\n\n    let currentState = undefined;\n    let currentListeners = []\n    currentState = reducer(currentState, { type: 'INIT' });\n\n    function getState() {\n        return currentState\n    }\n\n    function subscribe(fun) {\n        currentListeners.push(fun)\n    }\n\n    function dispatch(action) {\n        currentState = reducer(currentState, action)\n        currentListeners.map(item => item())\n    }\n    return {\n        getState,\n        subscribe,\n        dispatch\n    };\n}\nexport function hoc(createStore) {\n    return function (reducer) {\n        let result = createStore(reducer);\n        let dispatch = function (action) {\n\n            if (typeof action === 'function') {\n                action(result.dispatch);\n            } else {\n                result.dispatch(action);\n            }\n        }\n        return { ...result, dispatch };\n    }\n}\n\nexport function compost(...funs) {\n    if (funs.length === 0) {\n        return arg => arg\n    }\n    if (funs.length === 1) {\n        return funs[0]\n    }\n    return funs.reduce((a, b) => (...args) => a(b(...args)));\n}\n\nexport function bindActionCreators(actionCreators, dispatch) {\n    if (typeof actionCreators === 'object') {\n\n        function bindActionCreator(actionCreator, dispatch) {\n            return (...args) => dispatch(actionCreator(...args))\n        }\n        const keys = Object.keys(actionCreators)\n        const boundActionCreators = {}\n        keys.forEach(key => {\n            boundActionCreators[key] = bindActionCreator(actionCreators[key], dispatch)\n        })\n        return boundActionCreators;\n    }\n    throw new Error('第一个参数必须为 object')\n\n}","import React, { Component } from 'react';\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport { incAction, decAction } from '../store/actionCreators'\n// import store from '../store';\nclass Home extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {}\n    }\n    componentDidMount() {\n        // store.subscribe(() => {\n        //     this.forceUpdate()\n        // })\n    }\n    ADD_NUMBER = () => {\n        this.props.dispatch({ type: 'ADD_NUMBER', num: 2 })\n    }\n    SUB_NUMBER = () => {\n        this.props.dispatch({ type: 'SUB_NUMBER', num: 2 })\n    }\n    INCREMENT = () => {\n        this.props.dispatch({ type: 'INCREMENT' })\n        // store.dispatch({ type: 'INCREMENT' });\n        // store.dispatch((dispatch)=>{\n        //     setTimeout(()=>{\n        //     },1000)\n        // })\n    }\n    DECREMENT = () => {\n        this.props.dispatch({ type: 'DECREMENT' })\n        // store.dispatch({ type: 'DECREMENT' })\n    }\n    render() {\n        console.log(this.props);\n\n        const { counter, INCREMENT, DECREMENT } = this.props\n        return (\n            <div>\n                about {counter}\n                <br />\n                {/* <button onClick={this.ADD_NUMBER}>ADD_NUMBER</button>\n                <button onClick={this.SUB_NUMBER}>SUB_NUMBER</button> */}\n                <button onClick={INCREMENT}>INCREMENT</button>\n                <button onClick={DECREMENT}>DECREMENT</button>\n            </div>\n        );\n    }\n}\nconst mapStateToProps = (status, ownProps) => {\n    // console.log(status,ownProps)\n    return status\n}\n// 方式一\n// const mapDispatchToProps = (dispatch) => {\n//     return {\n//         INCREMENT:()=>dispatch({type: 'INCREMENT'}),\n//         DECREMENT:()=>dispatch({type: 'DECREMENT'})\n//     }\n// }\n// 方式二\n// const mapDispatchToProps = (dispatch) => {\n//     return bindActionCreators({\n//         INCREMENT:()=>({type: 'INCREMENT'}),\n//         DECREMENT:()=>({type: 'DECREMENT'})\n//     },dispatch)\n// }\n// 方式三\nconst mapDispatchToProps = {\n    INCREMENT: () => ({ type: 'INCREMENT' }),\n    DECREMENT: () => ({ type: 'DECREMENT' })\n}\n\n// export default connect((status) => status, { INCREMENT: incAction, DECREMENT: decAction })(About);\nexport default connect((status) => status, mapDispatchToProps)(Home);","import React, { Component } from 'react';\n\nexport default class Error extends Component {\n  render() {\n    return (\n      <div> textInComponent </div>\n    );\n  }\n}\n","\nimport {\n    ADD_NUMBER,\n    SUB_NUMBER,\n    INCREMENT,\n    DECREMENT\n  } from './constants';\n\nconst defaultState = {\n    counter: 0\n}\nfunction reducer(state = defaultState, action) {\n\n    switch (action.type) {\n        case ADD_NUMBER:\n            return { ...state, counter: state.counter + action.num };\n        case SUB_NUMBER:\n            return { ...state, counter: state.counter - action.num };\n        case INCREMENT:\n            return { ...state, counter: state.counter + 1 };\n        case DECREMENT:\n            return { ...state, counter: state.counter - 1 };\n        default:\n            return state;\n    }\n}\nexport default reducer","import {createStore,hoc} from \"../redux\";\nimport reducer from './reducer'\n\nconst store = createStore(reducer,hoc);\nexport default store;\n\n// import {createStore} from \"redux\";\n// import reducer from './reducer'\n\n// const store = createStore(reducer,window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\n// export default store;\n\n\n","import React, { Component } from 'react';\n// import {Provider} from 'react-redux'\nimport { Provider } from '../reactDedux'\nimport About from '../views/about';\nimport { HashRouter, Link, Route, Switch, BrowserRouter as Router, Redirect } from 'react-router-dom'\nimport Home from '../views/home';\nimport Error from '../views/error';\n\nimport store from '../store';\n\nclass APP extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {}\n  }\n  render() {\n    return (\n      <Provider store={store}>\n        <HashRouter>\n          <Switch>\n            <Route path={'/about'} component={About} />\n            <Route path={'/home'} component={Home} />\n            <Redirect exact to=\"/about\" from=\"/\" />\n            <Route component={Error} />\n          </Switch>\n        </HashRouter>\n\n      </Provider>\n    );\n  }\n}\n\nexport default APP;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './layout/App';\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}